# WildBerries Catalog

Проект — каталог товаров с возможностью поиска, фильтрации, сортировки и пагинации.  
Frontend на React, backend — Django REST Framework.

---

## Быстрый старт (развёртывание)

1. **Backend:**

   - Перейти в папку `backend/`
   - Создать и активировать виртуальное окружение
   - Установить зависимости:  
     ```bash
     pip install -r requirements.txt
     ```
   - Выполнить миграции:  
     ```bash
     python manage.py migrate
     ```
   - Запустить сервер:  
     ```bash
     python manage.py runserver
     ```
   - Конфигурация парсера товаров находится в:  
     `products/management/commands/parser_wb/config/config.py`  
     Здесь можно задать параметры:  
     ```python
     PAGE_SIZE = 100
     QUERY = 'брюки женские'
     MAX_PAGE_GLOBAL = {'status': False, 'max_page': 2}
     ```  
     - `status = False` — парсинг до последней страницы сайта  
     - `status = True` — парсинг ограничен параметром `max_page`
   - Запустить сбор данных:
     ```bash
     python manage.py run_parser_wb
     ```

2. **Frontend:**

   - Перейти в папку `frontend/`
   - Установить зависимости:  
     ```bash
     npm install
     ```
   - Запустить фронтенд:  
     ```bash
     npm start
     ```
   - По умолчанию React-приложение работает на `http://localhost:3000` и взаимодействует с backend API на `http://127.0.0.1:8000/api/products/`

---

## Backend API

Все API эндпоинты доступны с префиксом `/api/` (пример: `http://127.0.0.1:8000/api/`).

### Основные ручки:

| URL                         | Метод | Описание                                      |
|-----------------------------|-------|-----------------------------------------------|
| `/api/products/`             | GET   | Список товаров с пагинацией, фильтрацией и сортировкой |
| `/api/products/<id>/`        | GET   | Детальная информация о товаре, вариациях и размерах  |
| `/api/brands/`               | GET   | Список брендов                                 |
| `/api/colors/`               | GET   | Список цветов                                 |
| `/api/kinds/`                | GET   | Список категорий (гендеры)                    |

---

### Фильтрация, поиск и сортировка товаров (`/api/products/`):

- **Поиск:**  
  `?search=текст` — ищет по имени товара и бренду.

- **Фильтры:**  
  - `brand` — фильтрация по бренду (например, `?brand=Nike`)  
  - `color` — фильтрация по цвету (например, `?color=red`)  
  - `kind` — фильтрация по категории/гендеру (например, `?kind=женский`)  
  - `price_min` — минимальная цена (например, `?price_min=1000`)  
  - `price_max` — максимальная цена (например, `?price_max=5000`)

- **Сортировка:**  
  `?ordering=name` — сортировка по имени (можно `-name` для обратного порядка)  
  Доступные поля для сортировки: `name`, `brand`, `price`.

- **Пагинация:**  
  Ответ с `/api/products/` возвращает объект с ключами:  
  ```json
  {
    "count": <общее_число_товаров>,
    "next": <ссылка_на_следующую_страницу>,
    "previous": <ссылка_на_предыдущую_страницу>,
    "results": [ ...список товаров на текущей странице... ]
  }

## Frontend
Основная страница `/` — показывает список товаров с фильтрами, поиском и пагинацией.

Страница товара `/product/:id` — показывает детальную информацию о товаре, его цветовых вариантах и размера.

Frontend отправляет запросы к backend API по указанным выше эндпоинтам.